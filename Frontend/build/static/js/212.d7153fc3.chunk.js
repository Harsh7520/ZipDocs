"use strict";(self.webpackChunkecom_book_fe=self.webpackChunkecom_book_fe||[]).push([[212],{858:function(e,t,r){r(2791);var n=r(184);t.Z=function(e){return(0,n.jsx)(n.Fragment,{children:e.touched&&(0,n.jsx)("p",{className:" mb-1 text-danger",children:e.message})})}},5212:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=r(885),a=r(2791),i=r(8596),s=r(8197),o=(0,i.Z)((function(e){return{editUserWrapper:{padding:"42px 0 80px","@media (max-width: 991px)":{padding:"35px 0 50px"},"@media (max-width: 767px)":{padding:"35px 0 40px"},"& .btn-wrapper":{"& .btn":{height:"40px",lineHeight:"40px",borderRadius:"4px",textTransform:"none",fontSize:"16px",minWidth:"100px","&+.btn":{marginLeft:"10px"}}},"& .form-row-wrapper":{display:"flex",flexWrap:"wrap",margin:"0 -15px","& .form-col":{padding:" 0 15px",maxWidth:"50%",flex:"0 0 50%",position:"relative","@media(max-width:767px)":{maxWidth:"100%",flex:"0 0 100%"},"&.full-width":{maxWidth:"100%",flex:"0 0 100%"},"& p":{"&.text-danger":{fontSize:"14px",color:s.O9.primary,position:"absolute",top:"70%",margin:"0"}}},"& .MuiInputBase-formControl":{marginBottom:"35px"}},"& .dropdown-wrapper":{"& .MuiOutlinedInput-notchedOutline":{borderRadius:"0"},"& .MuiInputBase-input":{backgroundColor:s.O9.white,height:"40px",lineHeight:"40px",borderRadius:"4px"}}}}})),u=r(4929),l=r(6348),c=r(8302),d=r(3188),p=r(6828),m=r(6168),f=r(8533),h=r(1859),x=r(6513),v=r(9271),b=r(6977),N=r(2506),g=r(858),Z=r(6960),w=r(1188),j=r(3595),y=r(184),I=function(){var e=(0,w.Eu)(),t=(0,a.useState)([]),r=(0,n.Z)(t,2),i=r[0],s=r[1],I=o(),k=(0,l.a)(),E=(0,v.k6)(),C=(0,a.useState)({id:0,email:"",lastName:"",firstName:"",roleId:3}),S=(0,n.Z)(C,2),P=S[0],O=S[1],R=(0,v.UO)().id;(0,a.useEffect)((function(){B()}),[]),(0,a.useEffect)((function(){R&&D()}),[R]);var T=u.Ry().shape({email:u.Z_().email("Invalid email address format").required("Email is required"),firstName:u.Z_().required("First Name is required"),lastName:u.Z_().required("Last Name is required"),roleId:u.Rx().required("Role is required")}),B=function(){b.Z.getAllRoles().then((function(e){e.records.length&&s(e.records)}))},D=function(){b.Z.getById(Number(R)).then((function(e){e&&O({id:e.id,email:e.email,lastName:e.lastName,firstName:e.firstName,roleId:e.roleId})}))};return(0,y.jsx)("div",{className:I.editUserWrapper,children:(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)(c.Z,{variant:"h1",children:"Edit User"}),(0,y.jsx)(N.J9,{initialValues:P,validationSchema:T,enableReinitialize:!0,onSubmit:function(e){b.Z.update(e).then((function(e){e&&(Z.Am.success(j.Z.messages.UPDATED_SUCCESS),E.push("/user"))}))},validator:function(){return{}},children:function(t){var r=t.values,n=t.errors,a=t.touched,s=t.handleBlur,o=t.handleChange,u=t.handleSubmit;return(0,y.jsxs)("form",{onSubmit:u,children:[(0,y.jsxs)("div",{className:"form-row-wrapper",children:[(0,y.jsxs)("div",{className:"form-col",children:[(0,y.jsx)(d.Z,{id:"first-name",name:"firstName",label:"First Name *",variant:"outlined",inputProps:{className:"small"},value:r.firstName,onBlur:s,onChange:o}),(0,y.jsx)(g.Z,{message:n.firstName,touched:a.firstName})]}),(0,y.jsxs)("div",{className:"form-col",children:[(0,y.jsx)(d.Z,{onBlur:s,onChange:o,id:"last-name",name:"lastName",label:"Last Name *",value:r.lastName,variant:"outlined",inputProps:{className:"small"}}),(0,y.jsx)(g.Z,{message:n.lastName,touched:a.lastName})]}),(0,y.jsxs)("div",{className:"form-col",children:[(0,y.jsx)(d.Z,{onBlur:s,onChange:o,id:"email",name:"email",label:"Email *",value:r.email,variant:"outlined",inputProps:{className:"small"}}),(0,y.jsx)(g.Z,{message:n.email,touched:a.email})]}),r.id!==e.user.id&&(0,y.jsx)("div",{className:"form-col",children:(0,y.jsxs)(p.Z,{className:"dropdown-wrapper",variant:"outlined",disabled:r.id===e.user.id,children:[(0,y.jsx)(m.Z,{htmlFor:"select",children:"Roles"}),(0,y.jsx)(f.Z,{name:"roleId",id:"roleId",onChange:o,disabled:r.id===e.user.id,className:k.customSelect,MenuProps:{classes:{paper:k.customSelect}},value:r.roleId,children:i.length>0&&i.map((function(e){return(0,y.jsx)(h.Z,{value:e.id,children:e.name},"name"+e.id)}))})]})})]}),(0,y.jsxs)("div",{className:"btn-wrapper",children:[(0,y.jsx)(x.Z,{className:"green-btn btn",variant:"contained",type:"submit",color:"primary",disableElevation:!0,children:"Save"}),(0,y.jsx)(x.Z,{className:"pink-btn btn",variant:"contained",type:"button",color:"primary",disableElevation:!0,onClick:function(){E.push("/user")},children:"Cancel"})]})]})}})]})})}},4136:function(e,t,r){var n=r(5861),a=r(7757),i=r.n(a),s=r(4569),o=r.n(s),u=r(6960),l=o().create({baseURL:"https://localhost:44394/",timeout:124e5,responseType:"json"}),c=[],d="";function p(){document.body.classList.add("loader-open")}function m(e){var t=c.indexOf(e);t>=0&&c.splice(t,1),c.length>0?p():document.body.classList.remove("loader-open"),e===d&&(d="",c=c.filter((function(t){return t!==e})))}l.interceptors.request.use(function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers&&(t.headers["Content-Type"]="application/json"),!0!==t.headers.isDisableLoader&&(c.push(t.url),p()),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){alert(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return m(e.config.url),null!==t&&void 0!==t&&t.code&&"OK"!==(null===t||void 0===t?void 0:t.code)?Promise.reject(new Error(t.detail||"Error")):Promise.resolve(e)}),(function(e){return m(e.config.url),u.Am.error(e.response.data.detail),Promise.reject(e)})),t.Z=l},6977:function(e,t,r){var n=r(5861),a=r(5671),i=r(3144),s=r(7757),o=r.n(s),u=r(4136),l=function(){function e(){(0,a.Z)(this,e),this.ENDPOINT="api/User"}return(0,i.Z)(e,[{key:"getAllUsers",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.ENDPOINT,"/list"),e.abrupt("return",u.Z.get(r,{params:t}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllRoles",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.ENDPOINT,"/Roles"),e.abrupt("return",u.Z.get(t).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.ENDPOINT,"/").concat(t),e.abrupt("return",u.Z.get(r).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.ENDPOINT,"/Delete/").concat(t),e.abrupt("return",u.Z.delete(r).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.ENDPOINT),e.abrupt("return",u.Z.put(r,t).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=new l},1859:function(e,t,r){var n=r(5987),a=r(4942),i=r(7462),s=r(2791),o=r(8182),u=r(8317),l=r(8096),c=s.forwardRef((function(e,t){var r,a=e.classes,u=e.className,c=e.component,d=void 0===c?"li":c,p=e.disableGutters,m=void 0!==p&&p,f=e.ListItemClasses,h=e.role,x=void 0===h?"menuitem":h,v=e.selected,b=e.tabIndex,N=(0,n.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(r=void 0!==b?b:-1),s.createElement(l.Z,(0,i.Z)({button:!0,role:x,tabIndex:r,component:d,selected:v,disableGutters:m,classes:(0,i.Z)({dense:a.dense},f),className:(0,o.Z)(a.root,u,v&&a.selected,!m&&a.gutters),ref:t},N))}));t.Z=(0,u.Z)((function(e){return{root:(0,i.Z)({},e.typography.body1,(0,a.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,i.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(c)}}]);
//# sourceMappingURL=212.d7153fc3.chunk.js.map