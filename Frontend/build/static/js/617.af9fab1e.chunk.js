"use strict";(self.webpackChunkecom_book_fe=self.webpackChunkecom_book_fe||[]).push([[617],{858:function(e,n,t){t(2791);var r=t(184);n.Z=function(e){return(0,r.jsx)(r.Fragment,{children:e.touched&&(0,r.jsx)("p",{className:" mb-1 text-danger",children:e.message})})}},8617:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(885),a=t(2791),i=t(8596),o=t(8197),s=(0,i.Z)((function(e){return{editWrapper:{padding:"42px 0 80px","@media (max-width: 991px)":{padding:"35px 0 50px"},"@media (max-width: 767px)":{padding:"35px 0 40px"},"& .btn-wrapper":{"& .btn":{height:"40px",lineHeight:"40px",borderRadius:"4px",textTransform:"none",fontSize:"16px",minWidth:"100px","&+.btn":{marginLeft:"10px"}}},"& .form-row-wrapper":{display:"flex",flexWrap:"wrap",margin:"0 -15px","& .form-col":{padding:" 0 15px",maxWidth:"50%",flex:"0 0 50%",position:"relative","@media(max-width:767px)":{maxWidth:"100%",flex:"0 0 100%"},"&.full-width":{maxWidth:"100%",flex:"0 0 100%"},"& p":{"&.text-danger":{fontSize:"14px",color:o.O9.primary,position:"absolute",top:"70%",margin:"0"}}},"& .MuiInputBase-formControl":{marginBottom:"35px"}},"& .dropdown-wrapper":{"& .MuiOutlinedInput-notchedOutline":{borderRadius:"0"},"& .MuiInputBase-input":{backgroundColor:o.O9.white,height:"40px",lineHeight:"40px",borderRadius:"4px"}}}}})),u=t(4929),c=t(8302),d=t(3188),p=t(6513),l=t(9271),f=t(4231),h=t(2506),m=t(858),x=t(6960),v=t(3144),b=t(5671),g=(0,v.Z)((function e(){(0,b.Z)(this,e),this.id=void 0,this.name=void 0,this.id=0,this.name=""})),w=t(184),y=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),t=(n[0],n[1],s()),i=(0,l.k6)(),o=new g,v=(0,a.useState)(o),b=(0,r.Z)(v,2),y=b[0],Z=b[1],N=(0,l.UO)().id;(0,a.useEffect)((function(){N&&j()}),[N]);var k=u.Ry().shape({name:u.Z_().required("Category Name is required")}),j=function(){f.Z.getById(Number(N)).then((function(e){Z({id:e.id,name:e.name})}))};return(0,w.jsx)("div",{className:t.editWrapper,children:(0,w.jsxs)("div",{className:"container",children:[(0,w.jsxs)(c.Z,{variant:"h1",children:[N?"Edit":"Add"," Category"]}),(0,w.jsx)(h.J9,{initialValues:y,validationSchema:k,enableReinitialize:!0,onSubmit:function(e){f.Z.save(e).then((function(e){console.log(e),x.Am.success("Record updated successfully"),i.push("/category")}))},children:function(e){var n=e.values,t=e.errors,r=e.touched,a=e.handleBlur,o=e.handleChange,s=e.handleSubmit;return(0,w.jsxs)("form",{onSubmit:s,children:[(0,w.jsx)("div",{className:"form-row-wrapper",children:(0,w.jsxs)("div",{className:"form-col",children:[(0,w.jsx)(d.Z,{id:"first-name",name:"name",label:"Category Name *",variant:"outlined",inputProps:{className:"small"},value:n.name,onBlur:a,onChange:o}),(0,w.jsx)(m.Z,{message:t.name,touched:r.name})]})}),(0,w.jsxs)("div",{className:"btn-wrapper",children:[(0,w.jsx)(p.Z,{className:"green-btn btn",variant:"contained",type:"submit",color:"primary",disableElevation:!0,children:"Save"}),(0,w.jsx)(p.Z,{className:"pink-btn btn",variant:"contained",type:"button",color:"primary",disableElevation:!0,onClick:function(){i.push("/category")},children:"Cancel"})]})]})}})]})})}},4231:function(e,n,t){var r=t(5861),a=t(5671),i=t(3144),o=t(7757),s=t.n(o),u=t(4136),c=function(){function e(){(0,a.Z)(this,e),this.ENDPOINT="api/Category"}return(0,i.Z)(e,[{key:"getAll",value:function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.ENDPOINT,"/list"),e.abrupt("return",u.Z.get(t,{params:n}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.ENDPOINT,"/").concat(n),e.abrupt("return",u.Z.get(t).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.ENDPOINT,"/Delete/").concat(n),e.abrupt("return",u.Z.delete(t).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,r.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=5;break}return t="".concat(this.ENDPOINT,"/Update"),e.abrupt("return",u.Z.put(t,n).then((function(e){return e.data})));case 5:return r="".concat(this.ENDPOINT,"/Add"),e.abrupt("return",u.Z.post(r,n).then((function(e){return e.data})));case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}();n.Z=new c},4136:function(e,n,t){var r=t(5861),a=t(7757),i=t.n(a),o=t(4569),s=t.n(o),u=t(6960),c=s().create({baseURL:"https://localhost:44394/",timeout:124e5,responseType:"json"}),d=[],p="";function l(){document.body.classList.add("loader-open")}function f(e){var n=d.indexOf(e);n>=0&&d.splice(n,1),d.length>0?l():document.body.classList.remove("loader-open"),e===p&&(p="",d=d.filter((function(n){return n!==e})))}c.interceptors.request.use(function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.headers&&(n.headers["Content-Type"]="application/json"),!0!==n.headers.isDisableLoader&&(d.push(n.url),l()),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){alert(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var n=e.data;return f(e.config.url),null!==n&&void 0!==n&&n.code&&"OK"!==(null===n||void 0===n?void 0:n.code)?Promise.reject(new Error(n.detail||"Error")):Promise.resolve(e)}),(function(e){return f(e.config.url),u.Am.error(e.response.data.detail),Promise.reject(e)})),n.Z=c}}]);
//# sourceMappingURL=617.af9fab1e.chunk.js.map